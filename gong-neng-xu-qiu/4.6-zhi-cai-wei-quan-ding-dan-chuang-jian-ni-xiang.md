# 4.6 直采维权订单（逆向）

## 4.6.1 直采维权订单创建（逆向）

**功能模块**：CMS

**功能描述**：每个订单中的商品包括一个维权状态，退货时创建维权订单。

维权订单有以下字段组成

| 字段名 | 字段 | 类型 | 说明 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 商品id | item\_id | String |  |
| 商品所在直采订单id | order\_id | String |  |
| 维权订单创建时间 |  |  |  |
| 维权订单完成时间 |  |  |  |
| 退货情况\*a | goodrefund\_type | String |  |
| 退款金额\*b | refund\_price | Double | \[0，直采订单中该订单的实际支付金额\] |
| 维权状态\*c | refund\_status | String |  |

| a.退货情况 |  |
| --- | --- | --- | --- | --- |
| 无需退货 |  |
| 准备退货 |  |
| 退货中 |  |
| 退货成功 |  |

| c.维权状态（refund\_status） | 说明 |
| --- | --- | --- | --- | --- |
| 无维权 |  |
| 退款中 |  |
| 退款成功 |  |
| 取消维权 |  |

* 创建交互：点击要维权的商品后的维权信息，弹窗，选择退货情况，退款金额，维权状态，点击提交。提交时检查提交信息不能为空。
* 点叉叉或窗口外部关闭窗口，则取消本次创建流程。
* 当状态变更提交已退款时，同时提交退款金额，不可再修改

a.退货情况：下拉选择，四个状态支持手动更改，标记信息用，目前不影响其他流程。 

b.退款金额：退款金额手工输入，placeholder显示文案 最高¥XXX（显示单品实际支付金额）。 

c.维权状态：可以选择顺序选择 退款中，已退款，取消维权。

> * 当前状态
>   * 可变更状态1
>   * 可变更状态2

* 退款中
  * 已退款
  * 取消维权
* 已退款
  * 取消维权



**demo：** 

![](../.gitbook/assets/zhi-cai-ding-dan-6.png)

## 4.6.2 维权影响直采订单状态

**功能模块**：CMS

**功能描述**：每次提交维权订单状态为退款成功时，检查其商品所在直采订单的状态，若所有商品维权状态都是退款成功，将直采订单状态更改为交易关闭。





